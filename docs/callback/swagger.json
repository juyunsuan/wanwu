{
    "swagger": "2.0",
    "info": {
        "title": "AI Agent Productivity Platform - Callback",
        "contact": {},
        "version": "v0.0.1"
    },
    "basePath": "/callback/v1",
    "paths": {
        "/api/category/info": {
            "get": {
                "description": "获取Maas平台知识库信息（模型扩展调用）",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "callback"
                ],
                "summary": "获取Maas平台知识库信息（模型扩展调用）",
                "parameters": [
                    {
                        "description": "根据知识库名称请求参数",
                        "name": "data",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/request.SearchKnowledgeInfoReq"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    }
                }
            }
        },
        "/api/deploy/info": {
            "get": {
                "description": "获取Maas平台部署信息（模型扩展调用）",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "callback"
                ],
                "summary": "获取Maas平台部署信息（模型扩展调用）",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    }
                }
            }
        },
        "/api/doc_status_init": {
            "get": {
                "description": "将正在解析的文档设置为解析失败",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "callback"
                ],
                "summary": "将正在解析的文档设置为解析失败",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    }
                }
            }
        },
        "/api/docstatus": {
            "post": {
                "description": "更新文档状态（模型扩展调用）",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "callback"
                ],
                "summary": "更新文档状态（模型扩展调用）",
                "parameters": [
                    {
                        "description": "更新文档状态请求参数",
                        "name": "data",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/request.CallbackUpdateDocStatusReq"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    }
                }
            }
        },
        "/model/{modelId}": {
            "get": {
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "callback"
                ],
                "summary": "根据ModelId获取模型",
                "parameters": [
                    {
                        "type": "string",
                        "description": "模型ID",
                        "name": "modelId",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/response.ModelInfo"
                                        }
                                    }
                                }
                            ]
                        }
                    }
                }
            }
        },
        "/model/{modelId}/chat/completions": {
            "post": {
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "callback"
                ],
                "summary": "Model Chat Completions",
                "parameters": [
                    {
                        "type": "string",
                        "description": "模型ID",
                        "name": "modelId",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "请求参数",
                        "name": "data",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/mp_common.LLMReq"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/mp_common.LLMResp"
                        }
                    }
                }
            }
        },
        "/model/{modelId}/embeddings": {
            "post": {
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "callback"
                ],
                "summary": "Model Embeddings",
                "parameters": [
                    {
                        "type": "string",
                        "description": "模型ID",
                        "name": "modelId",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "请求参数",
                        "name": "data",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/mp_common.EmbeddingReq"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/mp_common.EmbeddingResp"
                        }
                    }
                }
            }
        },
        "/model/{modelId}/gui": {
            "post": {
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "callback"
                ],
                "summary": "Model Gui",
                "parameters": [
                    {
                        "type": "string",
                        "description": "模型ID",
                        "name": "modelId",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "请求参数",
                        "name": "data",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/mp_common.GuiReq"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/mp_common.GuiResp"
                        }
                    }
                }
            }
        },
        "/model/{modelId}/ocr": {
            "post": {
                "consumes": [
                    "multipart/form-data"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "callback"
                ],
                "summary": "Model Ocr",
                "parameters": [
                    {
                        "type": "string",
                        "description": "模型ID",
                        "name": "modelId",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "file",
                        "description": "文件",
                        "name": "file",
                        "in": "formData",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/mp_common.OcrResp"
                        }
                    }
                }
            }
        },
        "/model/{modelId}/pdf-parser": {
            "post": {
                "consumes": [
                    "multipart/form-data"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "callback"
                ],
                "summary": "Model PdfParser",
                "parameters": [
                    {
                        "type": "string",
                        "description": "模型ID",
                        "name": "modelId",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "file",
                        "description": "文件",
                        "name": "file",
                        "in": "formData",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "文件名",
                        "name": "file_name",
                        "in": "formData",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/mp_common.PdfParserResp"
                        }
                    }
                }
            }
        },
        "/model/{modelId}/rerank": {
            "post": {
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "callback"
                ],
                "summary": "Model Rerank",
                "parameters": [
                    {
                        "type": "string",
                        "description": "模型ID",
                        "name": "modelId",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "请求参数",
                        "name": "data",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/mp_common.RerankReq"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/mp_common.RerankResp"
                        }
                    }
                }
            }
        },
        "/workflow/list": {
            "get": {
                "description": "根据userId和spaceId获取Workflow",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "callback"
                ],
                "summary": "根据userId和spaceId获取Workflow",
                "parameters": [
                    {
                        "type": "string",
                        "description": "获取工作流参数userId",
                        "name": "userId",
                        "in": "query",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "获取工作流参数orgId",
                        "name": "orgId",
                        "in": "query",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    }
                }
            }
        },
        "/workflow/tool/custom": {
            "get": {
                "description": "获取自定义工具详情",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "callback"
                ],
                "summary": "获取自定义工具详情",
                "parameters": [
                    {
                        "type": "string",
                        "description": "customToolId",
                        "name": "customToolId",
                        "in": "query",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/response.CustomToolDetail"
                                        }
                                    }
                                }
                            ]
                        }
                    }
                }
            }
        },
        "/workflow/tool/square": {
            "get": {
                "description": "获取内置工具详情",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "callback"
                ],
                "summary": "获取内置工具详情",
                "parameters": [
                    {
                        "type": "string",
                        "description": "toolSquareId",
                        "name": "toolSquareId",
                        "in": "query",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "用户ID",
                        "name": "userID",
                        "in": "query",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "组织ID",
                        "name": "orgID",
                        "in": "query",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/response.ToolSquareDetail"
                                        }
                                    }
                                }
                            ]
                        }
                    }
                }
            }
        }
    },
    "definitions": {
        "mp.ProviderModelByHuoshan": {
            "type": "object",
            "properties": {
                "embedding": {
                    "$ref": "#/definitions/mp_huoshan.Embedding"
                },
                "llm": {
                    "$ref": "#/definitions/mp_huoshan.LLM"
                }
            }
        },
        "mp.ProviderModelByInfini": {
            "type": "object",
            "properties": {
                "embedding": {
                    "$ref": "#/definitions/mp_infini.Embedding"
                },
                "llm": {
                    "$ref": "#/definitions/mp_infini.LLM"
                },
                "rerank": {
                    "$ref": "#/definitions/mp_infini.Rerank"
                }
            }
        },
        "mp.ProviderModelByOllama": {
            "type": "object",
            "properties": {
                "embedding": {
                    "$ref": "#/definitions/mp_ollama.Embedding"
                },
                "llm": {
                    "$ref": "#/definitions/mp_ollama.LLM"
                }
            }
        },
        "mp.ProviderModelByOpenAICompatible": {
            "type": "object",
            "properties": {
                "embedding": {
                    "$ref": "#/definitions/mp_openai_compatible.Embedding"
                },
                "llm": {
                    "$ref": "#/definitions/mp_openai_compatible.LLM"
                },
                "rerank": {
                    "$ref": "#/definitions/mp_openai_compatible.Rerank"
                }
            }
        },
        "mp.ProviderModelByQwen": {
            "type": "object",
            "properties": {
                "embedding": {
                    "$ref": "#/definitions/mp_qwen.Embedding"
                },
                "llm": {
                    "$ref": "#/definitions/mp_qwen.LLM"
                },
                "rerank": {
                    "$ref": "#/definitions/mp_qwen.Rerank"
                }
            }
        },
        "mp.ProviderModelByYuanjing": {
            "type": "object",
            "properties": {
                "embedding": {
                    "$ref": "#/definitions/mp_yuanjing.Embedding"
                },
                "gui": {
                    "$ref": "#/definitions/mp_yuanjing.Gui"
                },
                "llm": {
                    "$ref": "#/definitions/mp_yuanjing.LLM"
                },
                "ocr": {
                    "$ref": "#/definitions/mp_yuanjing.Ocr"
                },
                "pdf-parser": {
                    "$ref": "#/definitions/mp_yuanjing.PdfParser"
                },
                "rerank": {
                    "$ref": "#/definitions/mp_yuanjing.Rerank"
                }
            }
        },
        "mp.ProviderModelConfig": {
            "type": "object",
            "properties": {
                "providerHuoshan": {
                    "$ref": "#/definitions/mp.ProviderModelByHuoshan"
                },
                "providerModelByInfini": {
                    "$ref": "#/definitions/mp.ProviderModelByInfini"
                },
                "providerOllama": {
                    "$ref": "#/definitions/mp.ProviderModelByOllama"
                },
                "providerOpenAICompatible": {
                    "$ref": "#/definitions/mp.ProviderModelByOpenAICompatible"
                },
                "providerQwen": {
                    "$ref": "#/definitions/mp.ProviderModelByQwen"
                },
                "providerYuanJing": {
                    "$ref": "#/definitions/mp.ProviderModelByYuanjing"
                }
            }
        },
        "mp_common.Document": {
            "type": "object",
            "properties": {
                "text": {
                    "type": "string"
                }
            }
        },
        "mp_common.EmbeddingData": {
            "type": "object",
            "required": [
                "embedding"
            ],
            "properties": {
                "embedding": {
                    "type": "array",
                    "minItems": 1,
                    "items": {
                        "type": "number"
                    }
                },
                "index": {
                    "type": "integer"
                },
                "object": {
                    "type": "string"
                }
            }
        },
        "mp_common.EmbeddingReq": {
            "type": "object",
            "required": [
                "input",
                "model"
            ],
            "properties": {
                "encoding_format": {
                    "type": "string"
                },
                "input": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "model": {
                    "type": "string"
                }
            }
        },
        "mp_common.EmbeddingResp": {
            "type": "object",
            "required": [
                "data",
                "model"
            ],
            "properties": {
                "created": {
                    "type": "integer"
                },
                "data": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/mp_common.EmbeddingData"
                    }
                },
                "id": {
                    "type": "string"
                },
                "model": {
                    "type": "string"
                },
                "object": {
                    "type": "string"
                },
                "usage": {
                    "$ref": "#/definitions/mp_common.Usage"
                }
            }
        },
        "mp_common.ExtraBody": {
            "type": "object",
            "properties": {
                "api_option": {
                    "description": "选择指定功能。 1）math：拍照答题；2）ocr：多模态OCR；3）general：通用场景。   默认会根据prompt进行意图判断",
                    "type": "string"
                }
            }
        },
        "mp_common.FunctionCall": {
            "type": "object",
            "properties": {
                "arguments": {
                    "type": "string"
                },
                "name": {
                    "type": "string"
                }
            }
        },
        "mp_common.GuiContent": {
            "type": "object",
            "required": [
                "action",
                "description",
                "operation"
            ],
            "properties": {
                "action": {
                    "type": "string"
                },
                "box": {
                    "type": "array",
                    "items": {
                        "type": "integer"
                    }
                },
                "description": {
                    "type": "string"
                },
                "operation": {
                    "type": "string"
                },
                "sensitivity": {
                    "type": "string"
                },
                "value": {
                    "type": "string"
                }
            }
        },
        "mp_common.GuiReq": {
            "type": "object",
            "required": [
                "current_screenshot",
                "current_screenshot_height",
                "current_screenshot_width",
                "platform",
                "task"
            ],
            "properties": {
                "algo": {
                    "description": "算法名称，默认gui_agent_v1",
                    "type": "string"
                },
                "current_screenshot": {
                    "description": "当前屏幕截图，Base64编码的图像字符串",
                    "type": "string"
                },
                "current_screenshot_height": {
                    "description": "当前屏幕截图的高度",
                    "type": "integer"
                },
                "current_screenshot_width": {
                    "description": "当前屏幕截图的宽度",
                    "type": "integer"
                },
                "current_screenshot_xml": {
                    "description": "屏幕布局导出的xml文件",
                    "type": "string"
                },
                "history": {
                    "description": "当前任务的历史返回结果，历次返回结果中的content字段",
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "platform": {
                    "description": "平台信息，移动端填写Mobile, Windows端填写WIN，Mac端填写MAC",
                    "type": "string"
                },
                "task": {
                    "description": "当前用户任务",
                    "type": "string"
                }
            }
        },
        "mp_common.GuiResp": {
            "type": "object",
            "required": [
                "content",
                "message",
                "usage"
            ],
            "properties": {
                "code": {
                    "type": "integer"
                },
                "content": {
                    "$ref": "#/definitions/mp_common.GuiContent"
                },
                "message": {
                    "type": "string"
                },
                "usage": {
                    "$ref": "#/definitions/mp_common.Usage"
                }
            }
        },
        "mp_common.LLMReq": {
            "type": "object",
            "required": [
                "messages",
                "model"
            ],
            "properties": {
                "do_sample": {
                    "description": "Yuanjing",
                    "type": "boolean"
                },
                "enable_thinking": {
                    "type": "boolean"
                },
                "extra_body": {
                    "description": "扩展参数",
                    "allOf": [
                        {
                            "$ref": "#/definitions/mp_common.ExtraBody"
                        }
                    ]
                },
                "frequency_penalty": {
                    "description": "频率惩罚系数",
                    "type": "number"
                },
                "logit_bias": {
                    "description": "调整指定 token 在模型输出内容中出现的概率",
                    "type": "object",
                    "additionalProperties": {
                        "type": "integer"
                    }
                },
                "logprobs": {
                    "description": "是否返回输出 Token 的对数概率",
                    "type": "boolean"
                },
                "max_completion_tokens": {
                    "description": "控制模型输出的最大长度[0,64k]",
                    "type": "integer"
                },
                "max_tokens": {
                    "type": "integer"
                },
                "messages": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/mp_common.OpenAIReqMsg"
                    }
                },
                "min_p": {
                    "type": "number"
                },
                "model": {
                    "description": "general",
                    "type": "string"
                },
                "n": {
                    "type": "integer"
                },
                "parallel_tool_calls": {
                    "description": "是否开启并行工具调用",
                    "type": "boolean"
                },
                "presence_penalty": {
                    "description": "控制模型生成文本时的内容重复度",
                    "type": "number"
                },
                "repetition_penalty": {
                    "description": "模型生成时连续序列中的重复度",
                    "type": "number"
                },
                "response_format": {
                    "$ref": "#/definitions/mp_common.OpenAIResponseFormat"
                },
                "seed": {
                    "description": "种子",
                    "type": "integer"
                },
                "stop": {
                    "type": "string"
                },
                "stream": {
                    "type": "boolean"
                },
                "stream_options": {
                    "description": "当启用流式输出时，可通过将本参数设置为{\"include_usage\": true}，在输出的最后一行显示所使用的Token数。",
                    "allOf": [
                        {
                            "$ref": "#/definitions/mp_common.StreamOptions"
                        }
                    ]
                },
                "temperature": {
                    "type": "number"
                },
                "thinking": {
                    "description": "custom",
                    "allOf": [
                        {
                            "$ref": "#/definitions/mp_common.Thinking"
                        }
                    ]
                },
                "thinking_budget": {
                    "description": "思考过程的最大长度，只在enable_thinking为true时生效",
                    "type": "integer"
                },
                "tool_choice": {
                    "description": "强制指定工具调用的策略"
                },
                "tools": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/mp_common.OpenAITool"
                    }
                },
                "top_k": {
                    "type": "integer"
                },
                "top_logprobs": {
                    "description": "指定在每一步生成时，返回模型最大概率的候选 Token 个数",
                    "type": "integer"
                },
                "top_p": {
                    "type": "number"
                },
                "user": {
                    "type": "string"
                },
                "web_search": {
                    "description": "搜索增强",
                    "allOf": [
                        {
                            "$ref": "#/definitions/mp_common.WebSearch"
                        }
                    ]
                }
            }
        },
        "mp_common.LLMResp": {
            "type": "object",
            "required": [
                "choices",
                "model"
            ],
            "properties": {
                "choices": {
                    "description": "生成结果列表",
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/mp_common.OpenAIRespChoice"
                    }
                },
                "code": {
                    "type": "integer"
                },
                "created": {
                    "description": "时间戳（秒）",
                    "type": "integer"
                },
                "id": {
                    "description": "唯一标识",
                    "type": "string"
                },
                "img_id": {
                    "description": "视觉模型返回图片id",
                    "type": "string"
                },
                "model": {
                    "description": "使用的模型",
                    "type": "string"
                },
                "object": {
                    "description": "固定为 \"chat.completion\"",
                    "type": "string"
                },
                "service_tier": {
                    "description": "（火山）指定是否使用TPM保障包。生效对象为购买了保障包推理接入点",
                    "type": "string"
                },
                "system_fingerprint": {
                    "type": "string"
                },
                "usage": {
                    "description": "token 使用统计",
                    "allOf": [
                        {
                            "$ref": "#/definitions/mp_common.OpenAIRespUsage"
                        }
                    ]
                }
            }
        },
        "mp_common.MsgRole": {
            "type": "string",
            "enum": [
                "system",
                "user",
                "assistant",
                "tool"
            ],
            "x-enum-varnames": [
                "MsgRoleSystem",
                "MsgRoleUser",
                "MsgRoleAssistant",
                "MsgRoleFunction"
            ]
        },
        "mp_common.OcrData": {
            "type": "object",
            "required": [
                "page_num",
                "type"
            ],
            "properties": {
                "length": {
                    "type": "integer"
                },
                "page_num": {
                    "type": "array",
                    "minItems": 1,
                    "items": {
                        "type": "integer"
                    }
                },
                "text": {
                    "type": "string"
                },
                "type": {
                    "type": "string"
                }
            }
        },
        "mp_common.OcrResp": {
            "type": "object",
            "required": [
                "data",
                "message"
            ],
            "properties": {
                "code": {
                    "type": "integer"
                },
                "data": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/mp_common.OcrData"
                    }
                },
                "id": {
                    "type": "string"
                },
                "message": {
                    "type": "string"
                },
                "time_cost": {
                    "type": "number"
                },
                "timestamp": {
                    "type": "string"
                },
                "version": {
                    "type": "string"
                }
            }
        },
        "mp_common.OpenAIFunction": {
            "type": "object",
            "required": [
                "name"
            ],
            "properties": {
                "description": {
                    "type": "string"
                },
                "name": {
                    "type": "string"
                },
                "parameters": {
                    "$ref": "#/definitions/mp_common.OpenAIFunctionParameters"
                }
            }
        },
        "mp_common.OpenAIFunctionParameters": {
            "type": "object",
            "properties": {
                "properties": {
                    "type": "object",
                    "additionalProperties": {
                        "$ref": "#/definitions/mp_common.OpenAIFunctionParametersProperty"
                    }
                },
                "required": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "type": {
                    "type": "string"
                }
            }
        },
        "mp_common.OpenAIFunctionParametersProperty": {
            "type": "object",
            "properties": {
                "description": {
                    "type": "string"
                },
                "type": {
                    "type": "string"
                }
            }
        },
        "mp_common.OpenAIMsg": {
            "type": "object",
            "properties": {
                "content": {
                    "type": "string"
                },
                "function_call": {
                    "$ref": "#/definitions/mp_common.FunctionCall"
                },
                "name": {
                    "type": "string"
                },
                "reasoning_content": {
                    "type": "string"
                },
                "role": {
                    "description": "\"system\" | \"user\" | \"assistant\" | \"function(已弃用)\"",
                    "allOf": [
                        {
                            "$ref": "#/definitions/mp_common.MsgRole"
                        }
                    ]
                },
                "tool_call_id": {
                    "type": "string"
                },
                "tool_calls": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/mp_common.ToolCall"
                    }
                }
            }
        },
        "mp_common.OpenAIReqMsg": {
            "type": "object",
            "properties": {
                "content": {},
                "function_call": {
                    "$ref": "#/definitions/mp_common.FunctionCall"
                },
                "name": {
                    "type": "string"
                },
                "reasoning_content": {
                    "type": "string"
                },
                "role": {
                    "description": "\"system\" | \"user\" | \"assistant\" | \"function(已弃用)\"",
                    "allOf": [
                        {
                            "$ref": "#/definitions/mp_common.MsgRole"
                        }
                    ]
                },
                "tool_call_id": {
                    "type": "string"
                },
                "tool_calls": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/mp_common.ToolCall"
                    }
                }
            }
        },
        "mp_common.OpenAIRespChoice": {
            "type": "object",
            "properties": {
                "delta": {
                    "description": "流式生成的消息",
                    "allOf": [
                        {
                            "$ref": "#/definitions/mp_common.OpenAIMsg"
                        }
                    ]
                },
                "finish_reason": {
                    "description": "停止原因",
                    "type": "string"
                },
                "index": {
                    "description": "选项索引",
                    "type": "integer"
                },
                "logprobs": {},
                "message": {
                    "description": "非流式生成的消息",
                    "allOf": [
                        {
                            "$ref": "#/definitions/mp_common.OpenAIMsg"
                        }
                    ]
                }
            }
        },
        "mp_common.OpenAIRespUsage": {
            "type": "object",
            "properties": {
                "completion_tokens": {
                    "description": "输出 token 数",
                    "type": "integer"
                },
                "prompt_tokens": {
                    "description": "输入 token 数",
                    "type": "integer"
                },
                "total_tokens": {
                    "description": "总 token 数",
                    "type": "integer"
                }
            }
        },
        "mp_common.OpenAIResponseFormat": {
            "type": "object",
            "properties": {
                "type": {
                    "description": "\"text\" | \"json\"",
                    "type": "string"
                }
            }
        },
        "mp_common.OpenAITool": {
            "type": "object",
            "required": [
                "function",
                "type"
            ],
            "properties": {
                "function": {
                    "$ref": "#/definitions/mp_common.OpenAIFunction"
                },
                "type": {
                    "$ref": "#/definitions/mp_common.ToolType"
                }
            }
        },
        "mp_common.PdfParserResp": {
            "type": "object",
            "required": [
                "code",
                "content",
                "message"
            ],
            "properties": {
                "code": {
                    "type": "string"
                },
                "content": {
                    "type": "string"
                },
                "message": {
                    "type": "string"
                },
                "status": {
                    "type": "string"
                },
                "trace_id": {
                    "type": "string"
                }
            }
        },
        "mp_common.RerankReq": {
            "type": "object",
            "required": [
                "documents",
                "model",
                "query"
            ],
            "properties": {
                "documents": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "model": {
                    "type": "string"
                },
                "query": {
                    "type": "string"
                },
                "return_documents": {
                    "type": "boolean"
                },
                "top_n": {
                    "type": "integer"
                }
            }
        },
        "mp_common.RerankResp": {
            "type": "object",
            "required": [
                "results"
            ],
            "properties": {
                "model": {
                    "type": "string"
                },
                "object": {
                    "type": "string"
                },
                "request_id": {
                    "type": "string"
                },
                "results": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/mp_common.Result"
                    }
                },
                "usage": {
                    "$ref": "#/definitions/mp_common.Usage"
                }
            }
        },
        "mp_common.Result": {
            "type": "object",
            "required": [
                "relevance_score"
            ],
            "properties": {
                "document": {
                    "$ref": "#/definitions/mp_common.Document"
                },
                "index": {
                    "type": "integer"
                },
                "relevance_score": {
                    "type": "number"
                }
            }
        },
        "mp_common.StreamOptions": {
            "type": "object",
            "properties": {
                "chunk_include_usage": {
                    "type": "boolean"
                },
                "include_usage": {
                    "type": "boolean"
                }
            }
        },
        "mp_common.Tag": {
            "type": "object",
            "properties": {
                "text": {
                    "type": "string"
                }
            }
        },
        "mp_common.Thinking": {
            "type": "object",
            "properties": {
                "type": {
                    "type": "string",
                    "default": "enabled"
                }
            }
        },
        "mp_common.ToolCall": {
            "type": "object",
            "properties": {
                "function": {
                    "$ref": "#/definitions/mp_common.FunctionCall"
                },
                "id": {
                    "type": "string"
                },
                "index": {
                    "type": "integer"
                },
                "type": {
                    "$ref": "#/definitions/mp_common.ToolType"
                }
            }
        },
        "mp_common.ToolType": {
            "type": "string",
            "enum": [
                "function"
            ],
            "x-enum-varnames": [
                "ToolTypeFunction"
            ]
        },
        "mp_common.Usage": {
            "type": "object",
            "properties": {
                "completion_tokens": {
                    "type": "integer"
                },
                "prompt_tokens": {
                    "type": "integer"
                },
                "total_tokens": {
                    "type": "integer"
                }
            }
        },
        "mp_common.WebSearch": {
            "type": "object",
            "properties": {
                "enable": {
                    "type": "boolean"
                },
                "enable_citation": {
                    "type": "boolean"
                },
                "enable_status": {
                    "type": "boolean"
                },
                "enable_trace": {
                    "type": "boolean"
                }
            }
        },
        "mp_huoshan.Embedding": {
            "type": "object",
            "properties": {
                "apiKey": {
                    "description": "ApiKey",
                    "type": "string"
                },
                "contextSize": {
                    "description": "上下文长度",
                    "type": "integer"
                },
                "endpointUrl": {
                    "description": "推理url",
                    "type": "string"
                }
            }
        },
        "mp_huoshan.LLM": {
            "type": "object",
            "properties": {
                "apiKey": {
                    "description": "ApiKey",
                    "type": "string"
                },
                "contextSize": {
                    "description": "上下文长度",
                    "type": "integer"
                },
                "endpointUrl": {
                    "description": "推理url",
                    "type": "string"
                },
                "functionCalling": {
                    "description": "函数调用是否支持",
                    "type": "string",
                    "enum": [
                        "noSupport",
                        "toolCall"
                    ]
                },
                "maxTokens": {
                    "description": "模型回答最大tokens",
                    "type": "integer"
                },
                "visionSupport": {
                    "description": "视觉支持",
                    "type": "string",
                    "enum": [
                        "noSupport",
                        "support"
                    ]
                }
            }
        },
        "mp_infini.Embedding": {
            "type": "object",
            "properties": {
                "apiKey": {
                    "description": "ApiKey",
                    "type": "string"
                },
                "contextSize": {
                    "description": "上下文长度",
                    "type": "integer"
                },
                "endpointUrl": {
                    "description": "推理url",
                    "type": "string"
                }
            }
        },
        "mp_infini.LLM": {
            "type": "object",
            "properties": {
                "apiKey": {
                    "description": "ApiKey",
                    "type": "string"
                },
                "contextSize": {
                    "description": "上下文长度",
                    "type": "integer"
                },
                "endpointUrl": {
                    "description": "推理url",
                    "type": "string"
                },
                "functionCalling": {
                    "description": "函数调用是否支持",
                    "type": "string",
                    "enum": [
                        "noSupport",
                        "toolCall"
                    ]
                },
                "maxTokens": {
                    "description": "模型回答最大tokens",
                    "type": "integer"
                },
                "visionSupport": {
                    "description": "视觉支持",
                    "type": "string",
                    "enum": [
                        "noSupport",
                        "support"
                    ]
                }
            }
        },
        "mp_infini.Rerank": {
            "type": "object",
            "properties": {
                "apiKey": {
                    "description": "ApiKey",
                    "type": "string"
                },
                "contextSize": {
                    "description": "上下文长度",
                    "type": "integer"
                },
                "endpointUrl": {
                    "description": "推理url",
                    "type": "string"
                }
            }
        },
        "mp_ollama.Embedding": {
            "type": "object",
            "properties": {
                "apiKey": {
                    "description": "ApiKey",
                    "type": "string"
                },
                "contextSize": {
                    "description": "上下文长度",
                    "type": "integer"
                },
                "endpointUrl": {
                    "description": "推理url",
                    "type": "string"
                }
            }
        },
        "mp_ollama.LLM": {
            "type": "object",
            "properties": {
                "apiKey": {
                    "description": "ApiKey",
                    "type": "string"
                },
                "contextSize": {
                    "description": "上下文长度",
                    "type": "integer"
                },
                "endpointUrl": {
                    "description": "推理url",
                    "type": "string"
                },
                "functionCalling": {
                    "description": "函数调用是否支持",
                    "type": "string",
                    "enum": [
                        "noSupport",
                        "toolCall"
                    ]
                },
                "maxTokens": {
                    "description": "模型回答最大tokens",
                    "type": "integer"
                },
                "visionSupport": {
                    "description": "视觉支持",
                    "type": "string",
                    "enum": [
                        "noSupport",
                        "support"
                    ]
                }
            }
        },
        "mp_openai_compatible.Embedding": {
            "type": "object",
            "properties": {
                "apiKey": {
                    "description": "ApiKey",
                    "type": "string"
                },
                "contextSize": {
                    "description": "上下文长度",
                    "type": "integer"
                },
                "endpointUrl": {
                    "description": "推理url",
                    "type": "string"
                }
            }
        },
        "mp_openai_compatible.LLM": {
            "type": "object",
            "properties": {
                "apiKey": {
                    "description": "ApiKey",
                    "type": "string"
                },
                "contextSize": {
                    "description": "上下文长度",
                    "type": "integer"
                },
                "endpointUrl": {
                    "description": "推理url",
                    "type": "string"
                },
                "functionCalling": {
                    "description": "函数调用是否支持",
                    "type": "string",
                    "enum": [
                        "noSupport",
                        "toolCall"
                    ]
                },
                "maxTokens": {
                    "description": "模型回答最大tokens",
                    "type": "integer"
                },
                "visionSupport": {
                    "description": "视觉支持",
                    "type": "string",
                    "enum": [
                        "noSupport",
                        "support"
                    ]
                }
            }
        },
        "mp_openai_compatible.Rerank": {
            "type": "object",
            "properties": {
                "apiKey": {
                    "description": "ApiKey",
                    "type": "string"
                },
                "contextSize": {
                    "description": "上下文长度",
                    "type": "integer"
                },
                "endpointUrl": {
                    "description": "推理url",
                    "type": "string"
                }
            }
        },
        "mp_qwen.Embedding": {
            "type": "object",
            "properties": {
                "apiKey": {
                    "description": "ApiKey",
                    "type": "string"
                },
                "contextSize": {
                    "description": "上下文长度",
                    "type": "integer"
                },
                "endpointUrl": {
                    "description": "推理url",
                    "type": "string"
                }
            }
        },
        "mp_qwen.LLM": {
            "type": "object",
            "properties": {
                "apiKey": {
                    "description": "ApiKey",
                    "type": "string"
                },
                "contextSize": {
                    "description": "上下文长度",
                    "type": "integer"
                },
                "endpointUrl": {
                    "description": "推理url",
                    "type": "string"
                },
                "functionCalling": {
                    "description": "函数调用是否支持",
                    "type": "string",
                    "enum": [
                        "noSupport",
                        "toolCall"
                    ]
                },
                "maxTokens": {
                    "description": "模型回答最大tokens",
                    "type": "integer"
                },
                "visionSupport": {
                    "description": "视觉支持",
                    "type": "string",
                    "enum": [
                        "noSupport",
                        "support"
                    ]
                }
            }
        },
        "mp_qwen.Rerank": {
            "type": "object",
            "properties": {
                "apiKey": {
                    "description": "ApiKey",
                    "type": "string"
                },
                "contextSize": {
                    "description": "上下文长度",
                    "type": "integer"
                },
                "endpointUrl": {
                    "description": "推理url",
                    "type": "string"
                }
            }
        },
        "mp_yuanjing.Embedding": {
            "type": "object",
            "properties": {
                "apiKey": {
                    "description": "ApiKey",
                    "type": "string"
                },
                "contextSize": {
                    "description": "上下文长度",
                    "type": "integer"
                },
                "endpointUrl": {
                    "description": "推理url",
                    "type": "string"
                }
            }
        },
        "mp_yuanjing.Gui": {
            "type": "object",
            "properties": {
                "apiKey": {
                    "description": "ApiKey",
                    "type": "string"
                },
                "endpointUrl": {
                    "description": "推理url",
                    "type": "string"
                }
            }
        },
        "mp_yuanjing.LLM": {
            "type": "object",
            "properties": {
                "apiKey": {
                    "description": "ApiKey",
                    "type": "string"
                },
                "contextSize": {
                    "description": "上下文长度",
                    "type": "integer"
                },
                "endpointUrl": {
                    "description": "推理url",
                    "type": "string"
                },
                "functionCalling": {
                    "description": "函数调用是否支持",
                    "type": "string",
                    "enum": [
                        "noSupport",
                        "toolCall"
                    ]
                },
                "maxTokens": {
                    "description": "模型回答最大tokens",
                    "type": "integer"
                },
                "visionSupport": {
                    "description": "视觉支持",
                    "type": "string",
                    "enum": [
                        "noSupport",
                        "support"
                    ]
                }
            }
        },
        "mp_yuanjing.Ocr": {
            "type": "object",
            "properties": {
                "apiKey": {
                    "description": "ApiKey",
                    "type": "string"
                },
                "endpointUrl": {
                    "description": "推理url",
                    "type": "string"
                }
            }
        },
        "mp_yuanjing.PdfParser": {
            "type": "object",
            "properties": {
                "apiKey": {
                    "description": "ApiKey",
                    "type": "string"
                },
                "endpointUrl": {
                    "description": "推理url",
                    "type": "string"
                }
            }
        },
        "mp_yuanjing.Rerank": {
            "type": "object",
            "properties": {
                "apiKey": {
                    "description": "ApiKey",
                    "type": "string"
                },
                "contextSize": {
                    "description": "上下文长度",
                    "type": "integer"
                },
                "endpointUrl": {
                    "description": "推理url",
                    "type": "string"
                }
            }
        },
        "request.Avatar": {
            "type": "object",
            "properties": {
                "key": {
                    "description": "前端透传给后端用于保存avatar，例如：custom-upload/avatar/abc/def.png",
                    "type": "string"
                },
                "path": {
                    "description": "前端请求地址，例如：/v1/static/avatar/abc/def.png (请求非必填)",
                    "type": "string"
                }
            }
        },
        "request.CallbackMetaData": {
            "type": "object",
            "required": [
                "metaId",
                "value"
            ],
            "properties": {
                "key": {
                    "type": "string"
                },
                "metaId": {
                    "type": "string"
                },
                "value": {
                    "type": "string"
                }
            }
        },
        "request.CallbackUpdateDocStatusReq": {
            "type": "object",
            "required": [
                "id",
                "status"
            ],
            "properties": {
                "id": {
                    "type": "string"
                },
                "metaDataList": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/request.CallbackMetaData"
                    }
                },
                "status": {
                    "type": "integer"
                }
            }
        },
        "request.CustomToolApiAuthWebRequest": {
            "type": "object",
            "required": [
                "type"
            ],
            "properties": {
                "apiKey": {
                    "description": "apiKey 仅当认证类型为API Key时必填",
                    "type": "string"
                },
                "authType": {
                    "description": "Auth类型 仅当认证类型为API Key时必填，也可以为空",
                    "type": "string",
                    "enum": [
                        "Custom"
                    ]
                },
                "customHeaderName": {
                    "description": "Custom Header Name 仅当认证类型为API Key时必填",
                    "type": "string"
                },
                "type": {
                    "description": "认证类型 None 或 APIKey",
                    "type": "string",
                    "enum": [
                        "None",
                        "API Key"
                    ]
                }
            }
        },
        "request.SearchKnowledgeInfoReq": {
            "type": "object",
            "required": [
                "categoryName",
                "userId"
            ],
            "properties": {
                "categoryName": {
                    "type": "string"
                },
                "orgId": {
                    "type": "string"
                },
                "userId": {
                    "type": "string"
                }
            }
        },
        "response.CustomToolActionInfo": {
            "type": "object",
            "properties": {
                "method": {
                    "type": "string"
                },
                "name": {
                    "type": "string"
                },
                "path": {
                    "type": "string"
                }
            }
        },
        "response.CustomToolDetail": {
            "type": "object",
            "properties": {
                "apiAuth": {
                    "description": "apiAuth",
                    "allOf": [
                        {
                            "$ref": "#/definitions/request.CustomToolApiAuthWebRequest"
                        }
                    ]
                },
                "apiList": {
                    "description": "action列表",
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/response.CustomToolActionInfo"
                    }
                },
                "customToolId": {
                    "description": "自定义工具id",
                    "type": "string"
                },
                "description": {
                    "description": "描述",
                    "type": "string"
                },
                "name": {
                    "description": "名称",
                    "type": "string"
                },
                "privacyPolicy": {
                    "description": "隐私政策",
                    "type": "string"
                },
                "schema": {
                    "description": "schema",
                    "type": "string"
                },
                "toolSquareId": {
                    "description": "广场mcpId(非空表示来源于广场)",
                    "type": "string"
                }
            }
        },
        "response.MCPTool": {
            "type": "object",
            "properties": {
                "description": {
                    "description": "工具描述",
                    "type": "string"
                },
                "inputSchema": {
                    "description": "工具参数",
                    "allOf": [
                        {
                            "$ref": "#/definitions/response.MCPToolInputSchema"
                        }
                    ]
                },
                "name": {
                    "description": "工具名",
                    "type": "string"
                }
            }
        },
        "response.MCPToolInputSchema": {
            "type": "object",
            "properties": {
                "properties": {
                    "description": "字段名 -\u003e 字段信息",
                    "type": "object",
                    "additionalProperties": {
                        "$ref": "#/definitions/response.MCPToolInputSchemaValue"
                    }
                },
                "required": {
                    "description": "必填字段",
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "type": {
                    "description": "固定值: object",
                    "type": "string"
                }
            }
        },
        "response.MCPToolInputSchemaValue": {
            "type": "object",
            "properties": {
                "description": {
                    "description": "字段描述",
                    "type": "string"
                },
                "type": {
                    "description": "字段类型",
                    "type": "string"
                }
            }
        },
        "response.ModelInfo": {
            "type": "object",
            "required": [
                "model",
                "modelType",
                "provider"
            ],
            "properties": {
                "avatar": {
                    "description": "模型图标路径",
                    "allOf": [
                        {
                            "$ref": "#/definitions/request.Avatar"
                        }
                    ]
                },
                "config": {},
                "createdAt": {
                    "type": "string"
                },
                "displayName": {
                    "description": "模型显示名称",
                    "type": "string"
                },
                "examples": {
                    "description": "仅用于swagger展示；模型对应供应商中的对应llm、embedding或rerank结构是config实际的参数",
                    "allOf": [
                        {
                            "$ref": "#/definitions/mp.ProviderModelConfig"
                        }
                    ]
                },
                "isActive": {
                    "description": "启用状态（true: 启用，false: 禁用）",
                    "type": "boolean"
                },
                "model": {
                    "description": "模型名称",
                    "type": "string"
                },
                "modelDesc": {
                    "type": "string"
                },
                "modelId": {
                    "type": "string"
                },
                "modelType": {
                    "type": "string",
                    "enum": [
                        "llm",
                        "embedding",
                        "rerank"
                    ]
                },
                "orgId": {
                    "type": "string"
                },
                "provider": {
                    "description": "模型供应商",
                    "type": "string",
                    "enum": [
                        "OpenAI-API-compatible",
                        "YuanJing"
                    ]
                },
                "publishDate": {
                    "description": "模型发布时间",
                    "type": "string"
                },
                "tags": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/mp_common.Tag"
                    }
                },
                "updatedAt": {
                    "type": "string"
                },
                "userId": {
                    "type": "string"
                }
            }
        },
        "response.Response": {
            "type": "object",
            "properties": {
                "code": {
                    "type": "integer"
                },
                "data": {},
                "msg": {
                    "type": "string"
                }
            }
        },
        "response.ToolSquareDetail": {
            "type": "object",
            "properties": {
                "actionSum": {
                    "description": "action总数",
                    "type": "integer"
                },
                "apiKey": {
                    "description": "apiKey",
                    "type": "string"
                },
                "avatar": {
                    "description": "图标",
                    "allOf": [
                        {
                            "$ref": "#/definitions/request.Avatar"
                        }
                    ]
                },
                "desc": {
                    "description": "描述",
                    "type": "string"
                },
                "detail": {
                    "description": "详细描述",
                    "type": "string"
                },
                "name": {
                    "description": "名称",
                    "type": "string"
                },
                "needApiKeyInput": {
                    "description": "是否需要apiKey输入",
                    "type": "boolean"
                },
                "tags": {
                    "description": "标签",
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "toolSquareId": {
                    "description": "广场mcpId(非空表示来源于广场)",
                    "type": "string"
                },
                "tools": {
                    "description": "action列表",
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/response.MCPTool"
                    }
                }
            }
        }
    }
}